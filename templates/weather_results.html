{% extends 'base.html' %}

{% block title %}Weather results{% endblock %} 

{% block content%}
    <h1>Showing weather for {{ place.split("_")[0] }}</h1>
    <p>{{ ", ".join(place.split("_")[1:]) }}</p>
    <div class="current_weather">
        {{ current.data.instant.details.air_temperature }}°
        {% set svg_filename = current.data.next_1_hours.summary.symbol_code + ".svg" %}
        <br>
        <img width="64" height="64" src="{{ url_for('static', filename='icons/' + svg_filename) }}" alt="Your SVG">

    </div>
 
    <table>
        {% for hour in result %}
            <tr>
                <td>
                    {{ hour.data.instant.details.air_temperature }}°
                </td>
                <td>
                    {{ hour.time }}
                </td>
                {% if hour.data.next_1_hours  %}
                    <td>
                        {% set svg_filename = hour.data.next_1_hours.summary.symbol_code + ".svg" %}
                        <img width="64" height="64" src="{{ url_for('static', filename='icons/' + svg_filename) }}" alt="Your SVG">
                    </td>
                    <td style="color: blue">
                        {{ hour.data.next_1_hours.details.precipitation_amount }}mm
                    </td>
                {% else %}
                    <td></td>
                    <td></td>
                {% endif %}
            
            </tr>
        {% endfor %} 
    </table>
{% endblock %}
